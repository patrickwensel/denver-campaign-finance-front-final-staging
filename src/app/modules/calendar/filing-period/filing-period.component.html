<div class="container">
    <div class="tab-width">
        <form class="create-form" id="create-info" autocomplete="off" [formGroup]="filing_period">
            <div class="flex">
                <div class="width-40">
                    <div class="flex">
                        <mat-label class="width-20">{{static_data.ethic_form.title}}</mat-label>

                        <mat-form-field appearance="fill" class="create-full-width"
                        [hideRequiredMarker]='hideRequiredMarker'>
                        <mat-label class="width-20" class="visuallyhidden">{{static_data.ethic_form.title}}
                        </mat-label>
                        <input matInput type="text" autocomplete="off" autofocus form-fields id="title"
                        formControlName="title" required>
                        <mat-error class="error">
                            {{errorService.checkErrorMessage(filing_period.get('title'), 'title')}}
                        </mat-error>
                    </mat-form-field>
                       
                    </div>
                    <div class="flex">
                        <mat-label class="width-20">{{static_data.committee_registration.commitee_office.description}}</mat-label>
                        <mat-form-field appearance="fill" class="create-full-width"
                        [hideRequiredMarker]='hideRequiredMarker'>
                        <mat-label class="width-20" class="visuallyhidden">{{static_data.committee_registration.commitee_office.description}}
                        </mat-label>
                        <input matInput type="text" autocomplete="off" autofocus form-fields id="description" maxlength="120"
                        formControlName="description">
                        <mat-error class="error">
                            {{errorService.checkErrorMessage(filing_period.get('description'), 'description')}}
                        </mat-error>
                    </mat-form-field>
                    </div>
                    <div class="flex">
                        <mat-label class="width-20">{{static_data.manage_committee.filer_type}}</mat-label>
                        <mat-form-field appearance="fill" class="create-full-width"
                        [hideRequiredMarker]='hideRequiredMarker'>
                        <mat-label class="width-20" class="visuallyhidden">
                            {{static_data.manage_committee.filer_type}}</mat-label>
                            <mat-select id="filer_type" aria-labelledby="filer_type create-info"
                        aria-label="filer_type" multiple id="filer_type" required
                        formControlName="filer_type" (selectionChange)="onChangeoffice($event)">
                        <mat-option #allSelectedOffice (click)="toggleAllSelectionOffice()" [value]="0">All
                            filers</mat-option>
                        <mat-option (click)="tosslePerOneOffice(allSelectedOffice.viewValue)"
                        [value]="filer.lookUpTypeId" *ngFor="let filer of fil">
                        {{filer.lookUpName}}
                        </mat-option>
                    </mat-select>
                        <mat-error class="error">
                            {{errorService.checkErrorMessage(filing_period.get('filer_type'), 'filerType')}}
                        </mat-error>
                    </mat-form-field>
                    </div>
                    <div class="flex" *ngIf="type">
                        <mat-label for="contr_amount" class="width-20">{{static_data.calendar.itemization_Threshold}}
                        </mat-label>
                        <mat-form-field appearance="fill" appearance="fill" class="create-full-width"
                            [hideRequiredMarker]='hideRequiredMarker'>
                            <mat-label for="contr_amount" class="width-20" class="visuallyhidden">
                                {{static_data.calendar.itemization_Threshold}}
                            </mat-label>
                            <input aria-labelledby="contr_amount create-info" aria-label="threshold" matInput  keyPrevent [OnlyNumber]="true"
                                type="text" autocomplete="off" form-fields id="threshold"
                                formControlName="threshold" (keyup)="commaKey()">
                            <!-- <mat-error class="error">
                                {{errorService.checkErrorMessage(publicfunding.get('contr_amount'),
                                'contr_amount')}}
                            </mat-error> -->
                        </mat-form-field>
                    </div>
                </div>
                <div class="width-50">
                    <div class="flex">
                        <mat-label class="width-20">{{static_data.campaignFinance.filing_period}}</mat-label>
                        <div class="grid-date">
                            <mat-form-field appearance="fill" class="width-49">
                                <mat-label>Start Date</mat-label>
                                <input matInput [matDatepicker]="picker1" formControlName="start_date">
                                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                <mat-datepicker #picker1></mat-datepicker>
                                <mat-error class="error">
                                    {{errorService.checkErrorMessage(filing_period.get('start_date'), 'start_date')}}
                                </mat-error>
                              </mat-form-field>
                              
                              <mat-form-field appearance="fill" class="width-49">
                                <mat-label>End Date</mat-label>
                                <input [min]="filing_period.value.start_date" matInput [matDatepicker]="picker2"
                                formControlName="end_date">
                                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                <mat-datepicker #picker2></mat-datepicker>
                                <mat-error class="error">
                                    {{errorService.checkErrorMessage(filing_period.get('end_date'), 'end_date')}}
                                </mat-error>
                              </mat-form-field>
                              </div>
                    </div>
                    <div class="flex">
                        <mat-label class="width-20">{{static_data.calendar.due_date_and_time}}<mat-icon class="help-icon" matsuffix>help
                        </mat-icon></mat-label>
                        <div class="grid-date">
                            <mat-form-field appearance="fill" class="width-49">
                                <mat-label>Start Date</mat-label>
                                <input matInput [matDatepicker]="picker3" formControlName="date">
                                <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                                <mat-datepicker #picker3></mat-datepicker>
                                <mat-error class="error">
                                    {{errorService.checkErrorMessage(filing_period.get('date'), 'start_date')}}
                                </mat-error>
                              </mat-form-field>
                              
                            <mat-form-field appearance="fill" class="width-49">
                                <mat-label>Time (optional)</mat-label>
                                <input matInput formControlName="time">
                                <!-- <input matInput [ngxTimepicker]="toggleTimepicker" formControlName="time" [disableClick]="true">
                                <ngx-material-timepicker-toggle matPrefix [for]="toggleTimepicker"></ngx-material-timepicker-toggle>
                                <ngx-material-timepicker [defaultTime]="filing_period.value.time"#toggleTimepicker></ngx-material-timepicker> -->
                                </mat-form-field>
                              </div>
                    </div>
                    <div class="flex">
                        <mat-label class="width-20">{{static_data.system_Management.ballot_Issues_heading.election_cycle}}</mat-label>
                        <mat-form-field appearance="fill" class="create-full-width"
                        [hideRequiredMarker]='hideRequiredMarker'>
                        <mat-label class="width-20" class="visuallyhidden">
                            {{static_data.system_Management.ballot_Issues_heading.election_cycle}}</mat-label>
                            <mat-select id="electio_cycle"
                            formControlName="electio_cycle">
                            <mat-option [value]="election.electionCycleId" *ngFor="let election of getElectionTypeData">
                                {{election.electionCycle}}
                                </mat-option>
                            </mat-select>    
                        <mat-error class="error">
                            {{errorService.checkErrorMessage(filing_period.get('electio_cycle'), 'electionCycle')}}
                        </mat-error>
                    </mat-form-field>
                    </div>
                    <div class="btn-cancel-alg">
                        <!-- <span class="btn-mar-back">
                            <button mat-button color="primary" >Cancel</button>
                        </span> -->
                        <span id="save-btn">
                            <button id="addInfo" type="button" mat-flat-button color="primary" class="nrmlfillbtn" (click)="save()"
                            >{{editGrid ? static_data.button.update : static_data.button.add}}</button>
                        </span>
                    </div>
                </div>
            </div>
        </form>
    </div>
    </div>
    <table mat-table [dataSource]="dataMatchingList" multiTemplateDataRows>
     
        <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef> {{static_data.ethic_form.title}} </th>
            <td mat-cell *matCellDef="let element"> {{element.filingPeriodName}} </td>
        </ng-container>
    
        <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef>{{static_data.committee_registration.commitee_office.description}} </th>
            <td mat-cell *matCellDef="let element"> {{element.description}} </td>
        </ng-container>
    
        <ng-container matColumnDef="election">
            <th mat-header-cell *matHeaderCellDef>Election cycle </th>
            <td mat-cell *matCellDef="let element"> {{element.electionName}}</td>
        </ng-container>

        <ng-container matColumnDef="start_date">
            <th mat-header-cell *matHeaderCellDef> {{static_data.manage_committee.start_date}} </th>
            <td mat-cell *matCellDef="let element">{{element.startDate | date:this.masterDate.dateFormat}} </td>
        </ng-container>
    
        <ng-container matColumnDef="end_date">
            <th mat-header-cell *matHeaderCellDef> {{static_data.manage_committee.end_date}} </th>
            <td mat-cell *matCellDef="let element"> {{element.enddate | date:this.masterDate.dateFormat}}</td>
        </ng-container>

        <ng-container matColumnDef="due_date">
            <th mat-header-cell *matHeaderCellDef> {{static_data.calendar.due_date}} </th>
            <td mat-cell *matCellDef="let element">{{element.duedate | date:this.masterDate.dateFormat}} </td>
        </ng-container>
    
        <ng-container matColumnDef="due_time">
            <th mat-header-cell *matHeaderCellDef> {{static_data.calendar.due_time}} </th>
            <td mat-cell *matCellDef="let element"> {{element.duedate | date:'shortTime'}}</td>
        </ng-container>

        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef> {{static_data.public_funding.action}} </th>
            <td mat-cell *matCellDef="let element" class="click-hand">
                <span class="material-icons" (click)="editOfficerForm(element)">mode_edit_outline</span>&nbsp;&nbsp;
                <span class="material-icons" (click)="openConfirmationModal(element.filingPeriodId)">delete_forever</span>
            </td>
        </ng-container>
   
        <tr mat-header-row *matHeaderRowDef="displayedStudentsColumnsList;sticky: true"></tr>
        <tr mat-row *matRowDef="let element; columns: displayedStudentsColumnsList;" class="student-element-row"></tr>
    </table>